<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    

    <!--Author-->
    
        <meta name="author" content="Melon">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="Melon"/>
    

    <!--Open Graph Description-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Melon"/>

    <!--Type page-->
    
        <meta property="og:type" content="website" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>page - Melon</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- Menu -->
<!--Menu Links and Overlay-->
<div class="menu-bg">
    <div class="menu-container">
        <ul>
            
            <li class="menu-item">
                <a href="/">
                    Home
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/archives">
                    Archives
                </a>
            </li>
            
            <li class="menu-item">
                <a href="/about">
                    About
                </a>
            </li>
            
        </ul>
    </div>
</div>

<!--Hamburger Icon-->
<nav>
    <a href="#menu"></a>
</nav>

<div class="container">

    <!-- Main Content -->
    <div class="row">
    <div class="col-sm-12">

        <!--Title and Logo-->
        <header>
    <div class="logo">
        <a href="/"><i class="logo-icon fa fa-cube" aria-hidden="true"></i></a>
        
            <h1 id="main-title" class="title">Melon</h1>
        
    </div>
</header>

        <section class="main">
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/07/08/Java原生API获取网页源码/">
                Java原生API获取网页源码
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-07-08</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h4 id="今天遇到一个需求就是对一个动态的html页面-ajax获取数据进行填充-进行读取源代码然后使用nodejs的npm进行编译，最佳方式是使用httpclient来实现获取源码，但为了最快速来验证下这个需求流程所以下文用Java原生API来实现"><a href="#今天遇到一个需求就是对一个动态的html页面-ajax获取数据进行填充-进行读取源代码然后使用nodejs的npm进行编译，最佳方式是使用httpclient来实现获取源码，但为了最快速来验证下这个需求流程所以下文用Java原生API来实现" class="headerlink" title="今天遇到一个需求就是对一个动态的html页面(ajax获取数据进行填充)进行读取源代码然后使用nodejs的npm进行编译，最佳方式是使用httpclient来实现获取源码，但为了最快速来验证下这个需求流程所以下文用Java原生API来实现:"></a>今天遇到一个需求就是对一个动态的html页面(ajax获取数据进行填充)进行读取源代码然后使用nodejs的npm进行编译，最佳方式是使用httpclient来实现获取源码，但为了最快速来验证下这个需求流程所以下文用Java原生API来实现:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line">import java.io.BufferedReader;</div><div class="line">import java.io.IOException;</div><div class="line">import java.io.InputStream;</div><div class="line">import java.io.InputStreamReader;</div><div class="line">import java.net.HttpURLConnection;</div><div class="line">import java.net.URL;</div><div class="line"></div><div class="line">public class Test &#123;</div><div class="line"></div><div class="line">    public static String getHtmlContent(URL url, String encode) &#123;</div><div class="line">        StringBuffer contentBuffer = new StringBuffer();</div><div class="line"></div><div class="line">        int responseCode = -1;</div><div class="line">        HttpURLConnection con = null;</div><div class="line">        try &#123;</div><div class="line">            con = (HttpURLConnection) url.openConnection();</div><div class="line">            con.setRequestProperty(&quot;User-Agent&quot;,</div><div class="line">                    &quot;Mozilla/4.0 (compatible; MSIE 5.0; Windows NT; DigExt)&quot;);// IE代理进行下载</div><div class="line">            con.setConnectTimeout(60000);</div><div class="line">            con.setReadTimeout(60000);</div><div class="line">            // 获得网页返回信息码</div><div class="line">            responseCode = con.getResponseCode();</div><div class="line">            if (responseCode == -1) &#123;</div><div class="line">                System.out.println(url.toString()</div><div class="line">                        + &quot; : connection is failure...&quot;);</div><div class="line">                con.disconnect();</div><div class="line">                return null;</div><div class="line">            &#125;</div><div class="line">            if (responseCode &gt;= 400) // 请求失败</div><div class="line">            &#123;</div><div class="line">                System.out.println(&quot;请求失败:get response code: &quot; + responseCode);</div><div class="line">                con.disconnect();</div><div class="line">                return null;</div><div class="line">            &#125;</div><div class="line"></div><div class="line">            InputStream inStr = con.getInputStream();</div><div class="line">            InputStreamReader istreamReader = new InputStreamReader(inStr,</div><div class="line">                    encode);</div><div class="line">            BufferedReader buffStr = new BufferedReader(istreamReader);</div><div class="line"></div><div class="line">            String str = null;</div><div class="line">            while ((str = buffStr.readLine()) != null)</div><div class="line">                contentBuffer.append(str);</div><div class="line">            inStr.close();</div><div class="line">        &#125; catch (IOException e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            contentBuffer = null;</div><div class="line">            System.out.println(&quot;error: &quot; + url.toString());</div><div class="line">        &#125; finally &#123;</div><div class="line">            con.disconnect();</div><div class="line">        &#125;</div><div class="line">        return contentBuffer.toString();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public static String getHtmlContent(String url, String encode) &#123;</div><div class="line">        if (!url.toLowerCase().startsWith(&quot;http://&quot;)) &#123;</div><div class="line">            url = &quot;http://&quot; + url;</div><div class="line">        &#125;</div><div class="line">        try &#123;</div><div class="line">            URL rUrl = new URL(url);</div><div class="line">            return getHtmlContent(rUrl, encode);</div><div class="line">        &#125; catch (Exception e) &#123;</div><div class="line">            e.printStackTrace();</div><div class="line">            return null;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public static void main(String argsp[]) &#123;</div><div class="line">        System.out.println(getHtmlContent(&quot;www.k-run.cn&quot;, &quot;utf-8&quot;));</div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>–EOF–</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/07/01/图片Base64格式转文件/">
                图片Base64格式转文件
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-07-01</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <blockquote>
<p>图片的base64编码就是可以将一副图片数据编码成一串字符串，使用该字符串代替图像地址。</p>
</blockquote>
<p>这样做有什么意义呢？我们知道，我们所看到的网页上的每一个图片，都是需要消耗一个http请求下载而来的（所有才有了csssprites技术的应运而生）。</p>
<p>没错，不管如何，图片的下载始终都要向服务器发出请求，要是图片的下载不用向服务器发出请求，而可以随着 HTML 的下载同时下载到本地那就太好了，而base64正好能解决这个问题。</p>
<p>本文主要解决前端在进行上传图片的操作时上传的内容为图片的base64编码格式，服务器端对编码进行解析并生成图片文件:</p>
<p>一个图片的base64编码格式内容: <code>&quot;data:image/gif;base64,R0lGODlhHAAmAKIHAKqqqsvLy0hISObm5vf394uLiwAAAP///yH5BEoqQqJKAIBaQOVKHAXr3t7txgBjboSvB8EpLoFZywOAo3LFE5lYs/QW9LT1TRk1V7S2xYJADs=&quot;</code></p>
<p>在进行转换的时候需要去除<code>&quot;data:image/gif;base64,&quot;</code>这部分内容</p>
<p>需要导入base64的包:<code>sun.misc.BASE64Decoder.jar</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">public static String GenerateImage(String imageData, String filePath) &#123;</div><div class="line">        if (imageData == null) // 图像数据为空</div><div class="line">            return null;</div><div class="line">        BASE64Decoder decoder = new BASE64Decoder();</div><div class="line">        try &#123;</div><div class="line">            // Base64解码</div><div class="line">            byte[] b = decoder.decodeBuffer(imageData);</div><div class="line">            for (int i = 0; i &lt; b.length; ++i) &#123;</div><div class="line">                if (b[i] &lt; 0) &#123;// 调整异常数据</div><div class="line">                    b[i] += 256;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            // 生成jpeg图片</div><div class="line">            String fileName = UUID.randomUUID().toString();</div><div class="line">            String imgFilePath = filePath + fileName + &quot;.jpg&quot;;// 新生成的图片</div><div class="line">            OutputStream out = new FileOutputStream(imgFilePath);</div><div class="line">            out.write(b);</div><div class="line">            out.flush();</div><div class="line">            out.close();</div><div class="line">            return fileName + &quot;.jpg&quot;;</div><div class="line">        &#125; catch (Exception e) &#123;</div><div class="line">            return null;</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/06/23/error-while-loading-shared-libraries-xxx-so-x/">
                error while loading shared libraries: xxx.so.x
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-06-23</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>在使用ffmpeg以及soundtouch的过程中遇到了这个错误，字面意思应该是某个共享库的问题.</p>
<p>已经安装了该共享库, 但执行需要调用该共享库的程序的时候, 程序按照默认共享库路径找不到该共享库文件. </p>
<p>所以安装共享库后要注意共享库路径设置问题, 如下:</p>
<p>1) 如果共享库文件安装到了/lib或/usr/lib目录下, 那么需执行一下ldconfig命令</p>
<p>ldconfig命令的用途, 主要是在默认搜寻目录(/lib和/usr/lib)以及动态库配置文件/etc/ld.so.conf内所列的目录下, 搜索出可共享的动态链接库(格式如lib<em>.so</em>), 进而创建出动态装入程序(ld.so)所需的连接和缓存文件. 缓存文件默认为/etc/ld.so.cache, 此文件保存已排好序的动态链接库名字列表. </p>
<p>2) 如果共享库文件安装到了/usr/local/lib(很多开源的共享库都会安装到该目录下)或其它”非/lib或/usr/lib”目录下, 那么在执行ldconfig命令前, 还要把新共享库目录加入到共享库配置文件/etc/ld.so.conf中, 如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"># cat /etc/ld.so.conf</div><div class="line">include ld.so.conf.d/*.conf</div><div class="line"># echo &quot;/usr/local/lib&quot; &gt;&gt; /etc/ld.so.conf</div><div class="line"># ldconfig</div></pre></td></tr></table></figure>
<p>Done!</p>
<p>–EOF–</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/06/04/FatJar插件及nohup的使用/">
                FatJar插件及nohup的使用
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-06-04</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <blockquote>
<p>FatJar插件</p>
<p>Eclipse可以安装一个叫Fat Jar的插件，用这个插件打包非常方便。</p>
</blockquote>
<p>fat-jar它是sourceforge.net下的一个开源工具从<a href="http://sourceforge.net/projects/fjep" target="_blank" rel="external">http://sourceforge.net/projects/fjep</a> 地址可以下载该工具。fatJar这插件打包的时候可把用到的第三方的JAR包也一起打到目标JAR中。选择要打包的已编译的class 文件，主要是你写的类文件，先不要选择外部依赖的jar 包，因为你设置了class_path 后只要把依赖的包放到类路径能找到的地方就可以了。</p>
<p>制作过程的关键是设置Main-Class 要运行的主类；Class-Path 依赖的外部jar 包，这个包的文件是相对于生成的jar 包的。</p>
<h3 id="nohup命令"><a href="#nohup命令" class="headerlink" title="nohup命令"></a>nohup命令</h3><p>Unix/Linux下一般比如想让某个程序在后台运行，很多都是使用 <code>&amp;</code> 在程序结尾来让程序自动运行。比如我们要运行mysql在后台：<code>/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;</code>但是我们打包出来的JAR程序并不象mysqld一样做成守护进程，一般这种程序使用 <code>&amp;</code> 结尾，但是如果终端关闭，那么程序也会被关闭。但是为了能够后台运行，那么我们就可以使用nohup这个命令，比如我们有个test.jar需要在后台运 行，并且希望在后台能够定期运行，那么就使用<code>nohup：nohup /root/test.jar &amp;</code>   </p>
<p>提示：[~]$ appending output to nohup.out  嗯，证明运行成功，同时把程序运行的输出信息放到当前目录的 nohup.out 文件中去。</p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/05/23/Centos6-5下使用ffmpeg进行音频转码/">
                Centos6.5下使用ffmpeg进行音频转码
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-05-23</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h4 id="1-安装yasm（支持汇编优化）"><a href="#1-安装yasm（支持汇编优化）" class="headerlink" title="1.安装yasm（支持汇编优化）"></a>1.安装yasm（支持汇编优化）</h4><p>从yasm官网下载最新版本[<a href="http://yasm.tortall.net/]；" target="_blank" rel="external">http://yasm.tortall.net/]；</a><br>然后安装：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">./configure</div><div class="line">make</div><div class="line">make install;</div></pre></td></tr></table></figure>
<h4 id="2-安装lame：Mp3音频解码"><a href="#2-安装lame：Mp3音频解码" class="headerlink" title="2.安装lame：Mp3音频解码"></a>2.安装lame：Mp3音频解码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">wget http://jaist.dl.sourceforge.net/project/lame/lame/3.99/lame-3.99.5.tar.gz</div><div class="line">tar -xzvf lame-3.99.5.tar.gz</div><div class="line">cd lame-3.99.5</div><div class="line">./configure</div><div class="line">make</div><div class="line">make install</div></pre></td></tr></table></figure>
<h4 id="3-安装amr支持"><a href="#3-安装amr支持" class="headerlink" title="3.安装amr支持"></a>3.安装amr支持</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">wget http://downloads.sourceforge.net/project/opencore-amr/opencore-amr/opencore-amr-0.1.3.tar.gz</div><div class="line">tar -xzvf opencore-amr-0.1.3.tar.gz</div><div class="line">cd opencore-amr-0.1.3</div><div class="line">./configure</div><div class="line">make</div><div class="line">make install</div></pre></td></tr></table></figure>
<h4 id="4-安装ffmpeg"><a href="#4-安装ffmpeg" class="headerlink" title="4.安装ffmpeg"></a>4.安装ffmpeg</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">wget http://ffmpeg.org/releases/ffmpeg-x.x.x.tar.bz2</div><div class="line">tar -xjvf ffmpeg-x.x.x.tar.bz2</div><div class="line">cd ffmpeg-x.x.x </div><div class="line">./configure --enable-libmp3lame --enable-version3 --enable-shared</div><div class="line">make</div><div class="line">make install</div><div class="line">ldconfig</div></pre></td></tr></table></figure>
<p>终端运行ffmpeg命令，出现success和已安装的扩展，则运行成功。</p>
<p>转换:</p>
<p><code>ffmpeg -i 1.amr 1.mp3                 #AMR转换MP3</code></p>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/05/13/Maven插件wagon-maven-plugin自动化部署Java项目到Linux远程服务器/">
                Maven插件wagon-maven-plugin自动化部署Java项目到Linux远程服务器
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-05-13</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>通常情况下，程序开发完成后部署到线上Linux服务器，可能需要经历打包、将包文件传到服务器、SSH连上服务器、敲命令启动程序等一系列繁琐的步骤。</p>
<blockquote>
<p>实际上这些步骤都可以通过Maven的一个插件wagon-maven-plugin来自动完成。</p>
</blockquote>
<h3 id="1-配置Linux服务器用户名和密码"><a href="#1-配置Linux服务器用户名和密码" class="headerlink" title="1.配置Linux服务器用户名和密码"></a>1.配置Linux服务器用户名和密码</h3><p>为了让wagon-maven-plugin插件能SSH连上Linux服务器，首先需要在Maven的配置文件settings.xml中配置好server的用户名和密码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;servers&gt;</div><div class="line">    &lt;server&gt;</div><div class="line">        &lt;id&gt;mylinuxserver&lt;/id&gt;</div><div class="line">        &lt;username&gt;MELON&lt;/username&gt;</div><div class="line">        &lt;password&gt;123456&lt;/password&gt;</div><div class="line">    &lt;/server&gt;</div><div class="line">&lt;/servers&gt;</div></pre></td></tr></table></figure>
<h3 id="2-文件上传到服务器"><a href="#2-文件上传到服务器" class="headerlink" title="2.文件上传到服务器"></a>2.文件上传到服务器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;build&gt;</div><div class="line">    &lt;extensions&gt;</div><div class="line">        &lt;extension&gt;</div><div class="line">            &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;2.8&lt;/version&gt;</div><div class="line">        &lt;/extension&gt;</div><div class="line">    &lt;/extensions&gt;</div><div class="line">    &lt;plugins&gt;</div><div class="line">        &lt;plugin&gt;</div><div class="line">            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;1.0&lt;/version&gt;</div><div class="line">            &lt;configuration&gt;</div><div class="line">                &lt;serverId&gt;mylinuxserver&lt;/serverId&gt;</div><div class="line">                &lt;fromFile&gt;target/test.jar&lt;/fromFile&gt;</div><div class="line">                &lt;url&gt;scp://192.168.20.128/home/xxg/Desktop&lt;/url&gt;</div><div class="line">            &lt;/configuration&gt;</div><div class="line">        &lt;/plugin&gt;</div><div class="line">    &lt;/plugins&gt;</div><div class="line">&lt;/build&gt;</div></pre></td></tr></table></figure>
<p><code>&lt;serverId&gt;mylinuxserver&lt;/serverId&gt;</code>即上一步中在settings.xml中配置的service的id，<br><code>&lt;fromFile&gt;target/test.jar&lt;/fromFile&gt;</code>是要上传到服务器的文件，一般来说是jar或者war包，<br><code>&lt;url&gt;scp://192.168.20.128/home/xxg/Desktop&lt;/url&gt;</code>配置服务器的地址以及文件上传的目录。</p>
<p>配置完成后，运行命令： <code>mvn clean package wagon:upload-single</code></p>
<p> package、wagon:upload-single分别对项目进行打包和上传操作。命令运行结束后，文件就会成功上传到Linux服务器。</p>
<h3 id="3-在服务器上执行Linux命令"><a href="#3-在服务器上执行Linux命令" class="headerlink" title="3.在服务器上执行Linux命令"></a>3.在服务器上执行Linux命令</h3><p> 部署项目不仅要把包传上服务器，而且还需要执行一些指令来启动程序。在程序启动之前，可能还需要将原来的程序关闭。</p>
<h4 id="3-1-运行jar文件"><a href="#3-1-运行jar文件" class="headerlink" title="3.1 运行jar文件"></a>3.1 运行jar文件</h4><p>启动jar包通常会使用java -jar test.jar命令，可以将命令配置在pom.xml中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;build&gt;</div><div class="line">    &lt;extensions&gt;</div><div class="line">        &lt;extension&gt;</div><div class="line">            &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;2.8&lt;/version&gt;</div><div class="line">        &lt;/extension&gt;</div><div class="line">    &lt;/extensions&gt;</div><div class="line">    &lt;plugins&gt;</div><div class="line">        &lt;plugin&gt;</div><div class="line">            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;1.0&lt;/version&gt;</div><div class="line">            &lt;configuration&gt;</div><div class="line">                &lt;serverId&gt;mylinuxserver&lt;/serverId&gt;</div><div class="line">                &lt;fromFile&gt;target/test.jar&lt;/fromFile&gt;</div><div class="line">                &lt;url&gt;scp://192.168.20.128/home/xxg/Desktop&lt;/url&gt;</div><div class="line">                &lt;commands&gt;</div><div class="line">                    &lt;!-- 杀死原来的进程 --&gt;</div><div class="line">                    &lt;command&gt;pkill -f test.jar&lt;/command&gt;</div><div class="line">                    &lt;!-- 重新启动test.jar，程序的输出结果写到nohup.out文件中 --&gt;</div><div class="line">                    &lt;command&gt;nohup java -jar /home/xxg/Desktop/test.jar &gt; /home/xxg/Desktop/nohup.out 2&gt;&amp;amp;1 &amp;amp;&lt;/command&gt;</div><div class="line">                &lt;/commands&gt;</div><div class="line">                &lt;!-- 显示运行命令的输出结果 --&gt;</div><div class="line">                &lt;displayCommandOutputs&gt;true&lt;/displayCommandOutputs&gt;</div><div class="line">            &lt;/configuration&gt;</div><div class="line">        &lt;/plugin&gt;</div><div class="line">    &lt;/plugins&gt;</div><div class="line">&lt;/build&gt;</div></pre></td></tr></table></figure>
<p>配置完成后，运行命令： <code>mvn clean package wagon:upload-single wagon:sshexec</code></p>
<p>package、wagon:upload-single、wagon:sshexec分别对项目进行打包、上传、运行command命令的操作。命令运行结束后，在服务器上查看进程ps -ef|grep test.jar，或者查看nohup.out文件，就可以看到Java程序在服务器上已经启动。</p>
<h4 id="3-2-上传war包并启动Tomcat"><a href="#3-2-上传war包并启动Tomcat" class="headerlink" title="3.2 上传war包并启动Tomcat"></a>3.2 上传war包并启动Tomcat</h4><p>如果是Web应用，可使用服务器上的Tomcat来部署。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;build&gt;</div><div class="line">    &lt;extensions&gt;</div><div class="line">        &lt;extension&gt;</div><div class="line">            &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;2.8&lt;/version&gt;</div><div class="line">        &lt;/extension&gt;</div><div class="line">    &lt;/extensions&gt;</div><div class="line">    &lt;plugins&gt;</div><div class="line">        &lt;plugin&gt;</div><div class="line">            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;1.0&lt;/version&gt;</div><div class="line">            &lt;configuration&gt;</div><div class="line">                &lt;serverId&gt;mylinuxserver&lt;/serverId&gt;</div><div class="line">                &lt;fromFile&gt;target/javawebdeploy.war&lt;/fromFile&gt;</div><div class="line">                &lt;!-- 上传到Tomcat的webapps目录下 --&gt;</div><div class="line">                &lt;url&gt;scp://192.168.20.128/coder/tomcat/apache-tomcat-7.0.55/webapps&lt;/url&gt;</div><div class="line">                &lt;commands&gt;</div><div class="line">                    &lt;!-- 重启Tomcat --&gt;</div><div class="line">                    &lt;command&gt;sh /coder/tomcat/apache-tomcat-7.0.55/bin/shutdown.sh&lt;/command&gt;</div><div class="line">                    &lt;command&gt;rm -rf /coder/tomcat/apache-tomcat-7.0.55/webapps/javawebdeploy&lt;/command&gt;</div><div class="line">                    &lt;command&gt;sh /coder/tomcat/apache-tomcat-7.0.55/bin/startup.sh&lt;/command&gt;</div><div class="line">                &lt;/commands&gt;</div><div class="line">                &lt;displayCommandOutputs&gt;true&lt;/displayCommandOutputs&gt;</div><div class="line">            &lt;/configuration&gt;</div><div class="line">        &lt;/plugin&gt;</div><div class="line">    &lt;/plugins&gt;</div><div class="line">&lt;/build&gt;</div></pre></td></tr></table></figure>
<p>完成以上配置后，同样可通过<code>mvn clean package wagon:upload-single wagon:sshexec</code>命令自动部署。</p>
<h4 id="3-3-配置execution"><a href="#3-3-配置execution" class="headerlink" title="3.3 配置execution"></a>3.3 配置execution</h4><p>如果你觉得<code>mvn clean package wagon:upload-single wagon:sshexec</code>命令太长了不好记，那么可以配置execution，在运行package打包的同时运行upload-single和sshexec。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">&lt;build&gt;</div><div class="line">    &lt;extensions&gt;</div><div class="line">        &lt;extension&gt;</div><div class="line">            &lt;groupId&gt;org.apache.maven.wagon&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;wagon-ssh&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;2.8&lt;/version&gt;</div><div class="line">        &lt;/extension&gt;</div><div class="line">    &lt;/extensions&gt;</div><div class="line">    &lt;plugins&gt;</div><div class="line">        &lt;plugin&gt;</div><div class="line">            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;</div><div class="line">            &lt;artifactId&gt;wagon-maven-plugin&lt;/artifactId&gt;</div><div class="line">            &lt;version&gt;1.0&lt;/version&gt;</div><div class="line">            &lt;executions&gt;</div><div class="line">                &lt;execution&gt;</div><div class="line">                    &lt;id&gt;upload-deploy&lt;/id&gt;</div><div class="line">                    &lt;!-- 运行package打包的同时运行upload-single和sshexec --&gt;</div><div class="line">                    &lt;phase&gt;package&lt;/phase&gt;</div><div class="line">                    &lt;goals&gt;</div><div class="line">                        &lt;goal&gt;upload-single&lt;/goal&gt;</div><div class="line">                        &lt;goal&gt;sshexec&lt;/goal&gt;</div><div class="line">                    &lt;/goals&gt;</div><div class="line">                    &lt;configuration&gt;</div><div class="line">                        &lt;serverId&gt;mylinuxserver&lt;/serverId&gt;</div><div class="line">                        &lt;fromFile&gt;target/javawebdeploy.war&lt;/fromFile&gt;</div><div class="line">                        &lt;url&gt;scp://192.168.20.128/coder/tomcat/apache-tomcat-7.0.55/webapps&lt;/url&gt;</div><div class="line">                        &lt;commands&gt;</div><div class="line">                            &lt;command&gt;sh /coder/tomcat/apache-tomcat-7.0.55/bin/shutdown.sh&lt;/command&gt;</div><div class="line">                            &lt;command&gt;rm -rf /coder/tomcat/apache-tomcat-7.0.55/webapps/javawebdeploy&lt;/command&gt;</div><div class="line">                            &lt;command&gt;sh /coder/tomcat/apache-tomcat-7.0.55/bin/startup.sh&lt;/command&gt;</div><div class="line">                        &lt;/commands&gt;</div><div class="line">                        &lt;displayCommandOutputs&gt;true&lt;/displayCommandOutputs&gt;</div><div class="line">                    &lt;/configuration&gt;</div><div class="line">                &lt;/execution&gt;</div><div class="line">            &lt;/executions&gt;</div><div class="line">        &lt;/plugin&gt;</div><div class="line">    &lt;/plugins&gt;</div><div class="line">&lt;/build&gt;</div></pre></td></tr></table></figure>
<p>配置完成后，即可使用<code>mvn clean package</code>来代替<code>mvn clean package wagon:upload-single wagon:sshexec</code></p>
<blockquote>
<p>备注: 如果遇到项目中需要加入特有的一些jar包到lib下，那么需要在<code>maven-compiler-plugin的configuration</code>标签下设置</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;compilerArguments&gt;</div><div class="line">&lt;extdirs&gt;/Users/Melon/Documents/workspace/api.handspaper.com/WebContent/WEB-INF/lib&lt;/extdirs&gt;</div><div class="line">&lt;/compilerArguments&gt;</div></pre></td></tr></table></figure>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/05/06/ffmpeg常用转换命令/">
                ffmpeg常用转换命令
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-05-06</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <h2 id="音频转换："><a href="#音频转换：" class="headerlink" title="音频转换："></a>音频转换：</h2><p>1.转换amr到mp3：</p>
<p><code>ffmpeg -i test.amr test.mp3</code></p>
<p>2.转换amr到wav：</p>
<p><code>ffmpeg  -i test.amr test.wav</code></p>
<p>3.转换mp3到wav：</p>
<p><code>ffmpeg -i test.mp3 -f wav test.wav</code></p>
<h2 id="视频转换："><a href="#视频转换：" class="headerlink" title="视频转换："></a>视频转换：</h2><h4 id="1-转换wmv到mp4："><a href="#1-转换wmv到mp4：" class="headerlink" title="1.转换wmv到mp4："></a>1.转换wmv到mp4：</h4><p><code>ffmpeg -i sample.wmv -vcodec libx264 -acodec aac out.mp4</code></p>
<h4 id="2-抓取H264视频流："><a href="#2-抓取H264视频流：" class="headerlink" title="2.抓取H264视频流："></a>2.抓取H264视频流：</h4><p><code>ffmpeg -i sample.flv -vcodec copy -vbsf h264_mp4toannexb -an out.h264</code></p>
<ul>
<li>vbsf为过滤方法，即将flv规定的H264组织方式转换回H264协议书规定的字节流格式</li>
<li>-an 禁掉源文件中的音频，因为出来的码流不需要音频</li>
<li>vcodec copy这个是必然的</li>
</ul>
<p>3.将H264视频流转为mp4:</p>
<p><code>ffmpeg -i sample.h264 -f mp4 haha.mp4</code></p>
<h4 id="4-接收rtsp并存为视频文件："><a href="#4-接收rtsp并存为视频文件：" class="headerlink" title="4.接收rtsp并存为视频文件："></a>4.接收rtsp并存为视频文件：</h4><p><code>ffmpeg -rtsp_transport tcp -i rtsp://streaming1.osu.edu/media2/ufsap/ufsap.mov -vcodec copy -acodec copy -t 30 -f mp4 rtsp-out.mp4</code></p>
<ul>
<li><p>-rtsp_transport tcp:指明传输方式是tcp方式(也可以是udp)</p>
</li>
<li><p>-t 30：指明我录制30秒</p>
</li>
</ul>
<h4 id="5-切分视频并生成M3U8文件"><a href="#5-切分视频并生成M3U8文件" class="headerlink" title="5.切分视频并生成M3U8文件"></a>5.切分视频并生成M3U8文件</h4><p><code>ffmpeg -i input.mp4 -c:v libx264 -c:a aac -strict -2 -f hls -hls_time 20 -hls_list_size 0 -hls_wrap 0 output.m3u8</code></p>
<ul>
<li>-i 输入视频文件</li>
<li>-c:v 输出视频格式</li>
<li>-c:a 输出音频格式</li>
<li>-strict</li>
<li>-f hls 输出视频为HTTP Live Stream（M3U8）</li>
<li>-hls_time 设置每片的长度，默认为2，单位为秒</li>
<li>-hls_list_size 设置播放列表保存的最多条目，设置为0会保存所有信息，默认为5</li>
<li>-hls_wrap 设置多少片之后开始覆盖，如果设置为0则不会覆盖，默认值为0。这个选项能够避免在磁盘上存储过多的片，而且能够限制写入磁盘的最多片的数量。</li>
</ul>
<h4 id="6-截取一张352x240尺寸大小，格式为jpg的图片"><a href="#6-截取一张352x240尺寸大小，格式为jpg的图片" class="headerlink" title="6.截取一张352x240尺寸大小，格式为jpg的图片"></a>6.截取一张352x240尺寸大小，格式为jpg的图片</h4><p><code>ffmpeg -i input_file -y -f image2 -t 0.001 -s 352x240 output.jpg</code></p>
<h4 id="7-把视频的前30帧转换成一个Animated-Gif"><a href="#7-把视频的前30帧转换成一个Animated-Gif" class="headerlink" title="7.把视频的前30帧转换成一个Animated Gif"></a>7.把视频的前30帧转换成一个Animated Gif</h4><p><code>ffmpeg -i input_file -vframes 30 -y -f gif output.gif</code></p>
<h4 id="8-在视频的第8-01秒出截取230x240的缩略图"><a href="#8-在视频的第8-01秒出截取230x240的缩略图" class="headerlink" title="8.在视频的第8.01秒出截取230x240的缩略图"></a>8.在视频的第8.01秒出截取230x240的缩略图</h4><p><code>ffmpeg -i input_file -y -f mjpeg -ss 8 -t 0.001 -s 320x240 output.jpg</code></p>
<h4 id="9-分离视频音频流"><a href="#9-分离视频音频流" class="headerlink" title="9.分离视频音频流"></a>9.分离视频音频流</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ffmpeg -i input_file -vcodec copy -an output_file_video    //分离视频流</div><div class="line">ffmpeg -i input_file -acodec copy -vn output_file_audio    //分离音频流</div></pre></td></tr></table></figure>
<h4 id="10-视频剪切"><a href="#10-视频剪切" class="headerlink" title="10.视频剪切"></a>10.视频剪切</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ffmpeg -i test.avi -r 1 -f image2 image.jpeg //视频截图</div><div class="line">ffmpeg -i input.avi -ss 0:1:30 -t 0:0:20 -vcoder copy -acoder copy output.avi //剪切视频 -r 提取图像频率， -ss 开始时间， -t 持续时间</div></pre></td></tr></table></figure>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/04/25/maven项目无法打包编辑mapper下的xml文件/">
                maven项目无法打包编辑mapper下的xml文件
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-04-25</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>在jenkins使用maven进行打包发布时，由于maven无法对xml文件进行编译打包，须在pom.xml文件中添加如下配置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;build&gt;</div><div class="line">&lt;finalName&gt;xx&lt;/finalName&gt;</div><div class="line">&lt;resources&gt;</div><div class="line"> </div><div class="line">&lt;resource&gt;</div><div class="line">&lt;directory&gt;src/main/java&lt;/directory&gt;</div><div class="line">&lt;includes&gt;</div><div class="line">&lt;include&gt;**/*.xml&lt;/include&gt;</div><div class="line">&lt;/includes&gt;</div><div class="line">&lt;filtering&gt;true&lt;/filtering&gt;</div><div class="line">&lt;/resource&gt;</div><div class="line"> </div><div class="line">&lt;/resources&gt;</div><div class="line">&lt;/build&gt;</div></pre></td></tr></table></figure>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/04/08/ArrayList去重/">
                ArrayList去重
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-04-08</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <p>TreeSet是一个有序集合，TreeSet中的元素将按照升序排列，缺省是按照自然排序进行排列，意味着TreeSet中的元素要实现Comparable接口。或者有一个自定义的比较器。</p>
<p>我们可以在构造TreeSet对象时，传递实现Comparator接口的比较器对象。实现一个Comparator的比较器，然后比较两个对象的属性，如果对象属性相同，则返回0，并且因为treeset中的记录不会重复，所以就可以达到去重的目的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">public ArrayList&lt;Message&gt; removeDuplicteMessages(ArrayList&lt;Message&gt; messages) &#123;</div><div class="line">     Set&lt;Message&gt; s = new TreeSet&lt;Message&gt;(new Comparator&lt;Message&gt;() &#123;</div><div class="line"></div><div class="line">         @Override</div><div class="line">         public int compare(Message o1, Message o2) &#123;</div><div class="line"></div><div class="line">             if (null != o1.getUsername() &amp;&amp; null != o2.getUsername()) &#123;</div><div class="line"></div><div class="line">                 return o1.getUsername().compareTo(o2.getUsername());</div><div class="line">             &#125; else &#123;</div><div class="line">                 return 0;</div><div class="line">             &#125;</div><div class="line">         &#125;</div><div class="line"></div><div class="line">     &#125;);</div><div class="line"></div><div class="line">     s.addAll(messages);</div><div class="line">     return new ArrayList&lt;Message&gt;(s);</div><div class="line"> &#125;</div></pre></td></tr></table></figure>

        </div>
    

</div>
            
                
<div class="post">

    <div class="post-header index">
        <h1 class="title">
            <a href="/2015/01/23/Lombok开发指南/">
                Lombok开发指南
            </a>
        </h1>
        <div class="post-info">
            
                <span class="date">2015-01-23</span>
            
            
            
        </div>
    </div>

    
        <div class="content">
            <blockquote>
<p>Lombok主要是为了消除JavaBean中那些冗余的代码，通过在开发环境中实现Lombok，开发人员可以节省构建诸如hashCode()和equals()这样的方法以及以往用来分类各种accessor和mutator的大量时间。</p>
</blockquote>
<p>Lombok官网地址:<a href="http://projectlombok.org/" target="_blank" rel="external">http://projectlombok.org/</a> </p>
<p>安装方法参见Github上的说明：<a href="https://github.com/mplushnikov/lombok-intellij-plugin" target="_blank" rel="external">https://github.com/mplushnikov/lombok-intellij-plugin</a></p>
<h2 id="Lombok注解说明"><a href="#Lombok注解说明" class="headerlink" title="Lombok注解说明"></a>Lombok注解说明</h2><ol>
<li>@Data：注解在类上，相当于同时使用了@ToString、@EqualsAndHashCode、@Getter、@Setter和@RequiredArgsConstrutor这些注解，对于Pojo类十分有用</li>
<li>@NonNull：给方法参数增加这个注解会自动在方法内对该参数进行是否为空的校验，如果为空，则抛出NPE</li>
<li>@CleanUp：自动生成try-finally这样的代码来关闭流</li>
<li>@Getter(lazy=true)：可以替代经典的Double Check Lock样板代码</li>
<li>@Setter：注解在属性上；为属性提供 setting 方法</li>
<li>@Getter：注解在属性上；为属性提供 getting 方法</li>
<li>@Log4j：注解在类上；为类提供一个 属性名为log 的 log4j 日志对象</li>
<li>@NoArgsConstructor：注解在类上；为类提供一个无参的构造方法</li>
<li>@AllArgsConstructor：注解在类上；为类提供一个全参的构造方法</li>
</ol>
<p>示例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line">@Data  </div><div class="line">@Log4j  </div><div class="line">public class User &#123;  </div><div class="line">      </div><div class="line">    private String id = null;  </div><div class="line">    private String name = null;  </div><div class="line">    private String password = null;  </div><div class="line">  </div><div class="line">    private String workCode = null;  </div><div class="line">      </div><div class="line">    private String telephone = null;  </div><div class="line">    private String email = null;  </div><div class="line">      </div><div class="line">    public User() &#123;  </div><div class="line">          </div><div class="line">    &#125;  </div><div class="line">      </div><div class="line">    /** </div><div class="line">     * create user from DyeResourceTools.jar </div><div class="line">     * @param userInfo </div><div class="line">     * @return </div><div class="line">     */  </div><div class="line">    public static User fromUserInfo(UserInfo userInfo) &#123;  </div><div class="line">        if(userInfo == null) &#123;  </div><div class="line">            log.warn(&quot;occur a null userInfo parameter on creating user.&quot;);  </div><div class="line">            return null;  </div><div class="line">        &#125;  </div><div class="line">          </div><div class="line">        User user = new User();  </div><div class="line">          </div><div class="line">        user.setId(userInfo.getStrUserId());  </div><div class="line">        user.setName(userInfo.getStrName());  </div><div class="line">          </div><div class="line">        user.setWorkCode(userInfo.getStrWorkCode());  </div><div class="line">          </div><div class="line">        user.setTelephone(userInfo.getStrTelephone());  </div><div class="line">        user.setEmail(userInfo.getStrEmailAddress());  </div><div class="line">          </div><div class="line">        return user;  </div><div class="line">    &#125;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>最后需要注意的是，在使用lombok注解的时候记得要导入lombok.jar 包到工程，如果使用的是Maven Project，要在pom.xml中添加依赖，并设置Maven为自动导入。</p>

        </div>
    

</div>
            
        </section>
    </div>
</div>



    <div class="row">
        <div class="col-sm-12">
            <div class="wrap-pagination">
                <a class="" href="/page/2/">
                    <i class="fa fa-chevron-left" aria-hidden="true"></i>
                </a>
                <a class="" href="/page/4/">
                    <i class="fa fa-chevron-right" aria-hidden="true"></i>
                </a>
            </div>
        </div>
    </div>




</div>

<!-- Footer -->
<div class="push"></div>

<footer class="footer-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 footer-about">
                <h2>About</h2>
                <p>
                    This theme was developed by <a href="https://github.com/klugjo">Jonathan Klughertz</a>. The source code is available on Github. Create Websites. Make Magic.
                </p>
            </div>
            
    <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3 recent-posts">
        <h2>Recent Posts</h2>
        <ul>
            
            <li>
                <a class="footer-post" href="/2017/01/08/idea创建maven项目速度慢/">idea创建maven项目速度慢</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/01/06/Day5-异常-异常处理、原子性/">Day5-{9.异常}-异常处理、原子性</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/01/04/Day4-9-异常-Part1/">Day4-{9.异常}-异常的使用场景、异常的种类</a>
            </li>
            
            <li>
                <a class="footer-post" href="/2017/01/03/Day3-通用程序设计-字符串使用性能、接口引用对象、反射、JNI、优化、命名规范/">Day3-{8.通用程序设计}-字符串使用性能、接</a>
            </li>
            
        </ul>
    </div>



            
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <ul class="list-inline footer-social-icons">
                    
                    <li class="list-inline-item">
                        <a href="https://github.com/klugjo/hexo-theme-alpha-dust">
                            <span class="footer-icon-container">
                                <i class="fa fa-github"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://twitter.com/?lang=en">
                            <span class="footer-icon-container">
                                <i class="fa fa-twitter"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.facebook.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-facebook"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.instagram.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-instagram"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://dribbble.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-dribbble"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://plus.google.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-google-plus"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://www.behance.net/">
                            <span class="footer-icon-container">
                                <i class="fa fa-behance"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="https://500px.com/">
                            <span class="footer-icon-container">
                                <i class="fa fa-500px"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="mailto:test@example.com">
                            <span class="footer-icon-container">
                                <i class="fa fa-envelope-o"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li class="list-inline-item">
                        <a href="\#">
                            <span class="footer-icon-container">
                                <i class="fa fa-rss"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                <div class="footer-copyright">
                    @Untitled. All right reserved | Design & Hexo <a href="http://www.codeblocq.com/">Jonathan Klughertz</a>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- After footer scripts -->

<!-- jQuery -->
<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>

<!-- Tween Max -->
<script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>

<!-- Gallery -->
<script src="//cdnjs.cloudflare.com/ajax/libs/featherlight/1.3.5/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Custom JavaScript -->
<script src="/js/main.js"></script>

<!-- Disqus Comments -->



</body>

</html>